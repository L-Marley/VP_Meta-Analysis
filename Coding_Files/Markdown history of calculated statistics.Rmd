---
title: "History of Calculated Statistics"
author: "Liam Marley"
date: "8 July 2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Setting Functions
```{r}
# t-test - p-value
p_from_t <- function(t, df) {
  pval <- 2*pt(-abs(t), df, lower.tail = TRUE)
  pval <- round((pval), 4)
  return(pval)
}

# t-test - tvalue IF no means, sd, and se available

# F-test
p_from_F <- function(f, df1, df2) {
  round(pf(f, df1, df2, lower.tail = F), 3)
}

# Pearson's correlation
p_from_r <- function(r, df) {
  rt <-  sqrt(df) * r/sqrt(1 - r^2)
  pval <- round( 2 * min( pt(rt, df), pt(rt, df, lower.tail = FALSE) ), 3 )
  return(pval)
}

# Standard deviation of the mean

# If the standard error is provided
# where se = the standard error, and n = group size

SD_from_SE <- function(se, n) {
  sd <- round((se * sqrt(n - 1)), 2)
  return(sd)
}
```

Two-sample t-test
```{r}
# m1, m2: the sample means
# s1, s2: the sample standard deviations
# n1, n2: the same sizes
# m0: the null value for the difference in means to be tested for. Default is 0. 
# equal.variance: whether or not to assume equal variance. Default is FALSE. 
t_test2 <- function(m1, m2, sd1, sd2, n1, n2, m0=0, equal.variance = FALSE)
{
    if(equal.variance == FALSE) 
    {
        se <- sqrt( (sd1^2/n1) + (sd2^2/n2) )
        # welch-satterthwaite df
        df <- ( (sd1^2/n1 + sd2^2/n2)^2 )/( (sd1^2/n1)^2/(n1-1) + (sd2^2/n2)^2/(n2-1) )
    } else
    {
        # pooled standard deviation, scaled by the sample sizes
        se <- sqrt( (1/n1 + 1/n2) * ((n1-1)*sd1^2 + (n2-1)*sd2^2)/(n1+n2-2) ) 
        df <- n1+n2-2
    }      
    t <- (m1-m2-m0)/se 
    dat <- c(m1-m2, se, t, df, 2*pt(-abs(t), df))    
    names(dat) <- c("Difference of means", "Std Error", "t", "df", "p-value")
    return(dat) 
}
```


## History

For each entry give the publication ID as the title, then provide the: authors, year, and page of the statistic. Followed by the type of calculation as a subtitle. 

### 177

Chu et al. (2015)
pp. 178

#### Standard Deviation of the Mean

##### Beck's Depression Inventory

```{r}
# Control Group

SD_from_SE(.64, 74)

# Suicide Attempt

SD_from_SE(3.04, 17)
```

##### Use of Each Perspective

For the delayed task recall memories.

```{r}
# Field perspective - Control group
SD_from_SE(.14, 74)

# Observer perspective - Control group
SD_from_SE(.12, 74)

# Field perspective - Suicide attempt
SD_from_SE(.35, 17)

# Observer perspective - Suicide attempt
SD_from_SE(.27, 17)
```

Realised the above is redundant as it's only comparing the extent each perspective was used rather than frequency per se. Pending discussion now and another possible change to the scheme may be needed. At any rate, it provides an exemplar at least. 

### 379

Vella and Moulds (2014)
pp. 259

#### Exact p-value

Recency, pre-scores, between-subjects
```{r}
p_from_t(2.00, 72)
```

Emotional Intensity
```{r}
p_from_t(.62, 72)
```


Vividness, pre-scores, between-subjects
```{r}
p_from_t(.84, 72)
```

Vividness, shifted, within-subjects, first to third
```{r}
p_from_t(4.79, 41)
```

Vividness, shifted, within-subjects, third to first
```{r}
p_from_t(1.82, 31)
```

Happiness, shifted, within-subjects, third to first
```{r}
p_from_t(1.7, 31)
```


#### Independent t-tests

All are calculated between the pre (naturalistic) scores of field vs observer.

Recency, between-subjects
```{r}
t_test2(7.36, 10.53, 6.96, 6.47, 42, 32)
```

### 255

Marcotti and St Jacques (2018)


#### Exact p-value

Vividness
pp. 334
```{r}
p_from_t(2.73, 19)
```

### 28

McIssac and Eich (2002)

#### Exact p-values

Richness in detail/Vividness, between-subjects
pp. 147
```{r}
p_from_t(3.27, 50)
```

Emotionality/Emotional Intensity, between-subjects
pp. 147
```{r}
p_from_t(4.12, 50)
```

They haven't provided the standard deviations or standard errors for these means.

### 94

Sutin and Robins (2010)

### t-tests

Vividness, spontaneous/naturalistic, between-subjects
pp. 632

```{r}
t_test2(4.22, 3.72, .69, .76, 335, 115, equal.variance = F)
```

Emotional Intensity, spontaneous/naturalistic, between-subjects
pp. 632
```{r}
t_test2(4.04, 3.63, .82, .85, 335, 115, equal.variance = F)
```

Vividness, deliberate, between-subjects
pp.632
```{r}
t_test2(4.02, 3.96, .68, .78, 128, 128, equal.variance = F)
```

Emotional Intensity, deliberate, between-subjects
pp. 632
```{r}
t_test2(3.76, 3.66, .84, .84, 128, 128, equal.variance = F)
```

### 50
Bernsten & Rubin (2006)

#### t-tests

Visual Imagery/Vividness, deliberate, between-subjects
pp.1205
```{r}
t_test2(5.19, 5.31, 0.68, 0.77, 42, 40, equal.variance = F)
```

Emotional Intensity, deliberate, between-subjects
pp. 1205
```{r}
t_test2(4.75, 4.79, .93, 1.09, 42, 40, equal.variance = F)
```

Reliving/Re-experiencing, deliberate, between-subjects
pp. 1205
```{r}
t_test2(4.51, 4.65, 0.87, 0.94, 42, 40, equal.variance = F)
```

Rehearsal, deliberate, between-subjects
pp. 1205
```{r}
t_test2(3.5, 3.73, .89, .74, 42, 40)
```


Retention Interval/Age of memory, deliberate, between-subjects
pp. 1205
```{r}
t_test2(5.14, 5.87, 3.07, 3.15, 42, 40, equal.variance = F)
```

### 91
Robinaugh and McNally (2010)

#### t-tests

Emotional Intensity
pp.649
```{r}
t_test2(4.9, 4.4, 1.53, 1.83, 24, 93, equal.variance = F)
```

### 1
Nigro and Neisser (1983)

#### Exact p-values

Vividness, study 3
```{r}
p_from_t(2.13, 31)
```

Recency/Age of Memory, Study 3
```{r}
p_from_t(2.97, 31)
```

